

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Authentication &mdash; Enigma Data Marketplace 0.4 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  

  
    <link rel="top" title="Enigma Data Marketplace 0.4 documentation" href="index.html"/>
        <link rel="next" title="Data Sets" href="data-sets.html"/>
        <link rel="prev" title="User Guide" href="user-guide.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home"> Enigma Data Marketplace
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#registration">Registration</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#subscription">Subscription</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#consumption">Consumption</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#incentives">Incentives</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#data-privacy">Data privacy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="smart-contract.html">Smart Contract</a><ul>
<li class="toctree-l2"><a class="reference internal" href="smart-contract.html#registration">Registration</a></li>
<li class="toctree-l2"><a class="reference internal" href="smart-contract.html#subscription">Subscription</a></li>
<li class="toctree-l2"><a class="reference internal" href="smart-contract.html#the-marketplace-contract-functionality">The MarketPlace contract functionality</a><ul>
<li class="toctree-l3"><a class="reference internal" href="smart-contract.html#subscribe-bytes32-sourcename">subscribe(bytes32 sourceName)</a></li>
<li class="toctree-l3"><a class="reference internal" href="smart-contract.html#register-bytes32-sourcename-uint-price-address-owner">register(bytes32 sourceName, uint price, address owner)</a></li>
<li class="toctree-l3"><a class="reference internal" href="smart-contract.html#checkaddresssubscription-address-subscriber-bytes32-dataname">checkAddressSubscription(address subscriber, bytes32 dataName)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="smart-contract.html#source-code">Source code</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user-guide.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Authentication</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#supported-wallets">Supported Wallets</a></li>
<li class="toctree-l2"><a class="reference internal" href="#source-code">Source Code</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data-sets.html">Data Sets</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-providers.html">Data Providers</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Enigma Data Marketplace</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Authentication</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/authentication.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="authentication">
<h1>Authentication<a class="headerlink" href="#authentication" title="Permalink to this headline">¶</a></h1>
<p>The first implementation of the Enigma Data Marketplace is designed to integrate
with Catalyst on the application layer. Until the Enigma network is up and
running, a temporary implementation of the functionality that will be provided
by the network in the future is offered by an authentication server hosted in
the cloud.</p>
<p>When a user running Catalyst on their local machine requests to ingest a data
set they are subscribed to, Catalyst routes that request to the authentication
server. The authentication scheme used between client and server is an
implementation of digest access authentication using the user&#8217;s private and
public cryptographic keys, without the client ever handling their private key
directly.</p>
<p>When the user requests access to a subscribed data set, their Catalyst client
opens a session with the authentication server. The server replies back with a
challenge that includes a <code class="docutils literal"><span class="pre">nonce</span></code> and an <code class="docutils literal"><span class="pre">opaque</span></code> as specified in
<a class="reference external" href="https://tools.ietf.org/html/rfc2617#section-3.2.1">RFC 2617</a>. The client then
requests the <code class="docutils literal"><span class="pre">nonce</span></code> to be hashed and signed using the user&#8217;s private key.
The client replies to the authentication server with the signature of the
hashed <code class="docutils literal"><span class="pre">nonce</span></code> and the <code class="docutils literal"><span class="pre">opaque</span></code> untouched. The server validates that the
<code class="docutils literal"><span class="pre">nonce</span></code> and <code class="docutils literal"><span class="pre">opaque</span></code> are valid, and verifies that the signature corresponds
with the user&#8217;s public address. If successful, queries the smart contract to
validate that the user&#8217;s public address holds and active subscrition to the
requested data set, and if successful responds with the requested data set back
to the client, thereby completing the request.</p>
<img alt="Digest Authentication" class="align-center" src="https://s3.amazonaws.com/enigmaco-docs/digest-authentication.png" />
<p>Most blockchain implementations, and Ethereum in particular, use public-key
cryptography in their addressing scheme. Each address on the blockchain is
associated with a private and a public key, where the private key is secret,
the public key can be mathematically derived from the private key, and the
public address is a hash+checksum of the public key. It is critical that the
private key is not leaked, otherwise whoever has access to the private key gains
full control of its associated address.</p>
<p>Instead of Catalyst handling any private keys to authenticate requests, Catalyst
supports external wallets that handle the user&#8217;s private keys, and can sign
transactions on their behalf. Catalyst requests any of the supported wallets to
sign a transaction on behalf of the user (the wallet will require the user to
enter a password to unlock their account), and returns the signature to Catalyst
so that it can continue with the authentication process.</p>
<div class="section" id="supported-wallets">
<h2>Supported Wallets<a class="headerlink" href="#supported-wallets" title="Permalink to this headline">¶</a></h2>
<p>The wallets currently supported by Catalyst to access the Data Marketplace are
MyEtherWallet and Parity.</p>
</div>
<div class="section" id="source-code">
<h2>Source Code<a class="headerlink" href="#source-code" title="Permalink to this headline">¶</a></h2>
<p>The source code for the digest authentication server is available at:
TBD</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="data-sets.html" class="btn btn-neutral float-right" title="Data Sets" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="user-guide.html" class="btn btn-neutral" title="User Guide" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Enigma MPC, Inc..
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.4',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>